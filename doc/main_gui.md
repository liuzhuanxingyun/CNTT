# main_gui.py 说明

`main_gui.py` 是一个使用 `tkinter` 和 `ttkbootstrap` 构建的图形用户界面（GUI）应用程序，用于进行交易策略回测。

## 主要功能

- **数据文件选择**:
  - 自动列出 `data/no/` 目录下的所有 CSV 文件供用户选择。
  - 提供“浏览”按钮，允许用户从文件系统中选择其他 CSV 文件。

- **两种回测模式**:
  - **单次回测**: 用户可以为 EMA 周期、ATR1 倍数和 ATR2 倍数设置特定值，并运行一次回测。
  - **范围回测**: 用户可以为 EMA、ATR1 和 ATR2 设置一个范围或列表，程序将遍历所有参数组合进行批量回测。

- **参数配置**:
  - **单次回测**:
    - `EMA 周期`: 移动平均线的周期。
    - `ATR1 倍数`: 用于计算止损的 ATR 倍数。
    - `ATR2 倍数`: 用于构建交易通道的 ATR 倍数。
    - `保存详细交易记录`: 可选，将单次回测的详细交易记录保存到 `result/once/` 目录。
  - **范围回测**:
    - `EMA 范围`: 可以是 `1-50` 这样的范围，也可以是 `1,5,10` 这样的列表。
    - `ATR1 列表`: 逗号分隔的浮点数列表。
    - `ATR2 列表`: 逗号分隔的浮点数列表。
    - `保存范围回测总结`: 默认开启，将所有参数组合的回测结果总结保存到 `result/many/` 目录。

- **异步执行**:
  - 回测过程在独立的线程中运行，避免在执行耗时任务时冻结 GUI。
  - 运行状态和进度条会实时更新。

- **日志记录**:
  - 所有操作、回测进度和结果摘要都会实时显示在日志输出区域。
  - 日志带有时间戳，方便追踪。

## 依赖

- `threading`: 用于异步执行回测。
- `queue`: 用于在工作线程和 GUI 线程之间安全地传递日志消息。
- `os`, `datetime`: 用于文件路径处理和时间戳生成。
- `tkinter`, `ttkbootstrap`: 用于构建 GUI。
- `pandas`: 用于数据处理。
- `strategy.mainJustOne`, `strategy.mainTest`: 用于调用实际的回测逻辑。
